<div class="modal-header">
  <h5 class="modal-title">Add New Director</h5>
  <button type="button" class="btn-close" (click)="activeModal.dismiss()"></button>
</div>

<div class="modal-body">
  <form [formGroup]="directorForm">
    <div class="mb-3">
      <label class="form-label">Title</label>
      <div class="dropdown" ngbDropdown>
        <button class="form-select" ngbDropdownToggle>
          {{ directorForm.get('title')?.value || 'Select title' }}
        </button>
        <div class="dropdown-menu" ngbDropdownMenu>
          <button *ngFor="let title of titles" 
                  class="dropdown-item" 
                  (click)="directorForm.patchValue({title: title})">
            {{ title }}
          </button>
        </div>
      </div>
      <div class="invalid-feedback" [class.d-block]="directorForm.get('title')?.errors?.['required'] && directorForm.get('title')?.touched">
        Title is required
      </div>
    </div>

    <div class="row">
      <div class="col-md-6 mb-3">
        <label class="form-label">First Name</label>
        <input type="text" class="form-control" formControlName="firstName" placeholder="Enter first name">
        <div class="invalid-feedback" [class.d-block]="directorForm.get('firstName')?.errors?.['required'] && directorForm.get('firstName')?.touched">
          First name is required
        </div>
      </div>

      <div class="col-md-6 mb-3">
        <label class="form-label">Last Name</label>
        <input type="text" class="form-control" formControlName="lastName" placeholder="Enter last name">
        <div class="invalid-feedback" [class.d-block]="directorForm.get('lastName')?.errors?.['required'] && directorForm.get('lastName')?.touched">
          Last name is required
        </div>
      </div>
    </div>

    <div class="mb-3">
      <label class="form-label">Date of Birth</label>
      <input type="date" class="form-control" formControlName="dateOfBirth">
      <div class="invalid-feedback" [class.d-block]="directorForm.get('dateOfBirth')?.errors?.['required'] && directorForm.get('dateOfBirth')?.touched">
        Date of birth is required
      </div>
    </div>

    <div class="mb-3">
      <label class="form-label">Nationality</label>
      <input type="text" class="form-control" formControlName="nationality" placeholder="Enter nationality">
      <div class="invalid-feedback" [class.d-block]="directorForm.get('nationality')?.errors?.['required'] && directorForm.get('nationality')?.touched">
        Nationality is required
      </div>
    </div>

    <div class="mb-3">
      <label class="form-label">Address</label>
      <textarea class="form-control" formControlName="address" rows="3" placeholder="Enter full address"></textarea>
      <div class="invalid-feedback" [class.d-block]="directorForm.get('address')?.errors?.['required'] && directorForm.get('address')?.touched">
        Address is required
      </div>
    </div>

    <div class="mb-3">
      <label class="form-label">Director Type</label>
      <div class="dropdown" ngbDropdown>
        <button class="form-select" ngbDropdownToggle>
          {{ directorForm.get('directorType')?.value || 'Select director type' }}
        </button>
        <div class="dropdown-menu" ngbDropdownMenu>
          <button *ngFor="let type of directorTypes" 
                  class="dropdown-item" 
                  (click)="directorForm.patchValue({directorType: type})">
            {{ type }}
          </button>
        </div>
      </div>
      <div class="invalid-feedback" [class.d-block]="directorForm.get('directorType')?.errors?.['required'] && directorForm.get('directorType')?.touched">
        Director type is required
      </div>
    </div>

    <div class="mb-3">
      <label class="form-label">Occupation</label>
      <input type="text" class="form-control" formControlName="occupation" placeholder="Enter occupation">
      <div class="invalid-feedback" [class.d-block]="directorForm.get('occupation')?.errors?.['required'] && directorForm.get('occupation')?.touched">
        Occupation is required
      </div>
    </div>

    <div class="mb-3">
      <label class="form-label">Other Directorships</label>
      <textarea class="form-control" formControlName="otherDirectorships" rows="3" placeholder="List other directorships (optional)"></textarea>
    </div>

    <div class="mb-3">
      <label class="form-label">Shareholding</label>
      <input type="text" class="form-control" formControlName="shareholding" placeholder="Enter shareholding details (optional)">
    </div>

    <div class="mb-3">
      <label class="form-label">Appointment Date</label>
      <input type="date" class="form-control" formControlName="appointmentDate">
      <div class="invalid-feedback" [class.d-block]="directorForm.get('appointmentDate')?.errors?.['required'] && directorForm.get('appointmentDate')?.touched">
        Appointment date is required
      </div>
    </div>
  </form>
</div>

<div class="modal-footer">
  <button type="button" class="btn btn-link" (click)="activeModal.dismiss()">Cancel</button>
  <button type="button" class="btn btn-primary" (click)="onSubmit()" [disabled]="!directorForm.valid">
    Add Director
  </button>
</div>
